!function(r){var o={};function a(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=r,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=26)}([function(e,t,r){e.exports=r(23)()},function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wc.data},function(e,t){e.exports=window.wc.navigation},function(e,t){e.exports=window.wc.components},function(e,t){e.exports=window.wc.number},function(e,t){e.exports=window.wc.date},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wc.csvExport},function(e,t){e.exports=window.wc.currency},function(e,t){e.exports=window.wp.date},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.dom},,function(e,t,r){"use strict";var n=r(24);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,s){if(s!==n)throw s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),s.name="Invariant Violation",s}function t(){return e}var r={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(R,e,t){"use strict";t.r(e);var Q=t(9),V=t(2),A=t(1),M=t(6),e=t(11),r=t(10),o=t(0),o=t.n(o),B=t(5),p=t(7),H=t(4),f=t(8),a=t(15),a=t.n(a),c=t(12);const s=a()(c.CURRENCY);a=Object(A.createContext)(s);class n extends A.Component{formatVal(e,t){const{formatAmount:r,getCurrencyConfig:o}=this.context;return"currency"===t?r(e):Object(p.formatValue)(o(),t,e)}getValues(e,t){var{emptySearchResults:r,summaryData:o}=this.props,o=o["totals"],a=o.primary?o.primary[e]:0,o=o.secondary?o.secondary[e]:0,e=r?0:a,a=r?0:o;return{delta:Object(p.calculateDelta)(e,a),prevValue:this.formatVal(a,t),value:this.formatVal(e,t)}}render(){const{charts:t,query:e,selectedChart:l,summaryData:r,defaultDateRange:o}=this.props;var{isError:a,isRequesting:s}=r;if(!a){if(s)return Object(A.createElement)(M.SummaryListPlaceholder,{numberOfItems:t.length});const m=Object(f.getDateParamsFromQuery)(e,o)["compare"];return Object(A.createElement)(M.SummaryList,null,e=>{let i=e["onToggle"];return t.map(e=>{var{key:e,order:t,orderby:r,label:o,type:a}=e;const s={chart:e};r&&(s.orderby=r),t&&(s.order=t);var r=Object(B.getNewPath)(s),t=l.key===e,{delta:a,prevValue:n,value:c}=this.getValues(e,a);return Object(A.createElement)(M.SummaryNumber,{key:e,delta:a,href:r,label:o,prevLabel:"previous_period"===m?Object(V.__)("Previous Period:","woocommerce-product-bundles"):Object(V.__)("Previous Year:","woocommerce-product-bundles"),prevValue:n,selected:t,value:c,onLinkClickCallback:()=>{i&&i()}})})})}}}n.propTypes={charts:o.a.array.isRequired,endpoint:o.a.string.isRequired,query:o.a.object.isRequired,selectedChart:o.a.shape({key:o.a.string.isRequired,label:o.a.string.isRequired,order:o.a.oneOf(["asc","desc"]),orderby:o.a.string,type:o.a.oneOf(["average","number","currency"]).isRequired}).isRequired,summaryData:o.a.object,report:o.a.string},n.defaultProps={summaryData:{totals:{primary:{},secondary:{}},isError:!1}},n.contextType=a;var i=Object(e.compose)(Object(r.withSelect)((e,t)=>{const{charts:r,endpoint:o,limitProperties:a,query:s,filters:n,advancedFilters:c}=t,i=a||[o];t=i.some(e=>s[e]&&s[e].length);if(s.search&&!t)return{emptySearchResults:!0};var t=r&&r.map(e=>e.key),l=e(H.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings")["woocommerce_default_date_range"];return{summaryData:Object(H.getSummaryNumbers)({endpoint:o,query:s,select:e,limitBy:i,filters:n,advancedFilters:c,defaultDateRange:l,fields:t}),defaultDateRange:l}}))(n),l=t(16),Y=t(3);class m extends A.Component{render(){var{className:e,isError:t,isEmpty:r}=this.props;let o,a,s,n;return t?(o=Object(V.__)("There was an error getting your stats. Please try again.","woocommerce-product-bundles"),a=Object(V.__)("Reload","woocommerce-product-bundles"),n=()=>{window.location.reload()}):r&&(o=Object(V.__)("No results could be found for this date range.","woocommerce-product-bundles"),a=Object(V.__)("View Orders","woocommerce-product-bundles"),s=Object(c.getAdminLink)("edit.php?post_type=shop_order")),Object(A.createElement)(M.EmptyContent,{className:e,title:o,actionLabel:a,actionURL:s,actionCallback:n})}}m.propTypes={className:o.a.string,isError:o.a.bool,isEmpty:o.a.bool},m.defaultProps={className:""};var U=m;class d extends A.Component{shouldComponentUpdate(e){return e.isRequesting!==this.props.isRequesting||e.primaryData.isRequesting!==this.props.primaryData.isRequesting||e.secondaryData.isRequesting!==this.props.secondaryData.isRequesting||!Object(Y.isEqual)(e.query,this.props.query)}getItemChartData(){const{primaryData:e,selectedChart:o}=this.props;return e.data.intervals.map(function(e){const r={};return e.subtotals.segments.forEach(function(e){var t;e.segment_label&&(t=r[e.segment_label]?e.segment_label+" (#"+e.segment_id+")":e.segment_label,r[e.segment_id]={label:t,value:e.subtotals[o.key]||0})}),{date:Object(l.format)("Y-m-d\\TH:i:s",e.date_start),...r}})}getTimeChartData(){const{query:o,primaryData:e,secondaryData:a,selectedChart:s,defaultDateRange:t}=this.props,n=Object(f.getIntervalForQuery)(o),{primary:c,secondary:i}=Object(f.getCurrentDates)(o,t);return e.data.intervals.map(function(e,t){const r=Object(f.getPreviousDate)(e.date_start,c.after,i.after,o.compare,n);t=a.data.intervals[t];return{date:Object(l.format)("Y-m-d\\TH:i:s",e.date_start),primary:{label:`${c.label} (${c.range})`,labelDate:e.date_start,value:e.subtotals[s.key]||0},secondary:{label:`${i.label} (${i.range})`,labelDate:r.format("YYYY-MM-DD HH:mm:ss"),value:t&&t.subtotals[s.key]||0}}})}getTimeChartTotals(){var{primaryData:e,secondaryData:t,selectedChart:r}=this.props;return{primary:Object(Y.get)(e,["data","totals",r.key],null),secondary:Object(Y.get)(t,["data","totals",r.key],null)}}renderChart(e,t,r,o){var{emptySearchResults:a,filterParam:s,interactiveLegend:n,itemsLabel:c,legendPosition:i,path:l,query:m,selectedChart:d,showHeaderControls:u,primaryData:p}=this.props,b=Object(f.getIntervalForQuery)(m),y=Object(f.getAllowedIntervalsForQuery)(m),p=Object(f.getDateFormatsForInterval)(b,p.data.intervals.length),a=a?Object(V.__)("No data for the current search","woocommerce-admin"):Object(V.__)("No data for the selected date range","woocommerce-admin");const{formatAmount:g,getCurrencyConfig:h}=this.context;return Object(A.createElement)(M.Chart,{allowedIntervals:y,data:r,dateParser:"%Y-%m-%dT%H:%M:%S",emptyMessage:a,filterParam:s,interactiveLegend:n,interval:b,isRequesting:t,itemsLabel:c,legendPosition:i,legendTotals:o,mode:e,path:l,query:m,screenReaderFormat:p.screenReaderFormat,showHeaderControls:u,title:d.label,tooltipLabelFormat:p.tooltipLabelFormat,tooltipTitle:"time-comparison"===e&&d.label||null,tooltipValueFormat:Object(H.getTooltipValueFormat)(d.type,g),chartType:Object(f.getChartTypeForQuery)(m),valueType:d.type,xFormat:p.xFormat,x2Format:p.x2Format,currency:h()})}renderItemComparison(){var{isRequesting:e,primaryData:t}=this.props;if(t.isError)return Object(A.createElement)(U,{isError:!0});e=e||t.isRequesting,t=this.getItemChartData();return this.renderChart("item-comparison",e,t)}renderTimeComparison(){var{isRequesting:e,primaryData:t,secondaryData:r}=this.props;if(!t||t.isError||r.isError)return Object(A.createElement)(U,{isError:!0});e=e||t.isRequesting||r.isRequesting,t=this.getTimeChartData(),r=this.getTimeChartTotals();return this.renderChart("time-comparison",e,t,r)}render(){var e=this.props["mode"];return"item-comparison"===e?this.renderItemComparison():this.renderTimeComparison()}}d.contextType=a,d.propTypes={filters:o.a.array,isRequesting:o.a.bool,itemsLabel:o.a.string,limitProperties:o.a.array,mode:o.a.string,path:o.a.string.isRequired,primaryData:o.a.object,query:o.a.object.isRequired,secondaryData:o.a.object,selectedChart:o.a.shape({key:o.a.string.isRequired,label:o.a.string.isRequired,order:o.a.oneOf(["asc","desc"]),orderby:o.a.string,type:o.a.oneOf(["average","number","currency"]).isRequired}).isRequired},d.defaultProps={isRequesting:!1,primaryData:{data:{intervals:[]},isError:!1,isRequesting:!1},secondaryData:{data:{intervals:[]},isError:!1,isRequesting:!1}};var u=Object(e.compose)(Object(r.withSelect)((e,t)=>{const{charts:r,endpoint:o,filters:a,isRequesting:s,limitProperties:n,query:c,advancedFilters:i}=t,l=n||[o];var m=function e(t,r,o){var a,o=2<arguments.length&&void 0!==o?o:{};if(!t||0===t.length)return null;const s=t.slice(0),n=s.pop();return n.showFilters(r,o)?(t=Object(B.flattenFilters)(n.filters),a=r[n.param]||n.defaultValue||"all",Object(Y.find)(t,{value:a})):e(s,r,o)}(a,c),d=Object(Y.get)(m,["settings","param"]),t=t.mode||function(e,t){if(e&&t){var r=Object(Y.get)(e,["settings","param"]);if(!r||Object.keys(t).includes(r))return Object(Y.get)(e,["chartMode"])}return null}(m,c)||"time-comparison",m=e(H.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings")["woocommerce_default_date_range"],u=e(H.REPORTS_STORE_NAME),d={mode:t,filterParam:d,defaultDateRange:m};if(s)return d;var p=l.some(e=>c[e]&&c[e].length);if(c.search&&!p)return{...d,emptySearchResults:!0};var p=r&&r.map(e=>e.key),b=Object(H.getReportChartData)({endpoint:o,dataType:"primary",query:c,select:e,selector:u,limitBy:l,filters:a,advancedFilters:i,defaultDateRange:m,fields:p});if("item-comparison"===t)return{...d,primaryData:b};t=Object(H.getReportChartData)({endpoint:o,dataType:"secondary",query:c,select:e,selector:u,limitBy:l,filters:a,advancedFilters:i,defaultDateRange:m,fields:p});return{...d,primaryData:b,secondaryData:t}}))(d),b=t(17),y=t.n(b),g=t(18);function h(e,t){t=1<arguments.length&&void 0!==t?t:[],e=Object(Y.find)(t,{key:e});return e||t[0]}var _=t(19),b=t(20),K=t.n(b),W=t(13),z=t(21),$=t(14),G=()=>Object(A.createElement)("svg",{role:"img","aria-hidden":"true",focusable:"false",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24"},Object(A.createElement)("path",{d:"M18,9c-0.009,0-0.017,0.002-0.025,0.003C17.72,5.646,14.922,3,11.5,3C7.91,3,5,5.91,5,9.5c0,0.524,0.069,1.031,0.186,1.519 C5.123,11.016,5.064,11,5,11c-2.209,0-4,1.791-4,4c0,1.202,0.541,2.267,1.38,3h18.593C22.196,17.089,23,15.643,23,14 C23,11.239,20.761,9,18,9z M12,16l-4-5h3V8h2v3h3L12,16z"}));b=n=>{const{getHeadersContent:o,getRowsContent:a,getSummary:s,isRequesting:e,primaryData:t,tableData:r,endpoint:c,itemIdField:L,tableQuery:I,compareBy:i,compareParam:l,searchBy:m,labels:d={},...u}=n,{query:p,columnPrefsKey:b}=n,{items:y,query:g}=r;var h=p[l]?Object(B.getIdsFromQuery)(p[i]):[];const[f,_]=Object(A.useState)(h),O=Object(A.useRef)(null),{updateUserPreferences:w,...j}=Object(H.useUserPreferences)();if(r.isError||t.isError)return Object(A.createElement)(U,{isError:!0});let v=[];b&&(v=j&&j[b]?j[b]:v);const C=(e,t,r)=>{r=s?s(t,r):null;return Object(Q.applyFilters)("woocommerce_admin_report_table",{endpoint:c,headers:o(),rows:a(e),totals:t,summary:r,items:y})};const R=e=>{var t=n["ids"];_(e?t:[])},S=(e,t)=>{var r=n["ids"];t?_(Object(Y.uniq)([r[e],...f])):(t=f.indexOf(r[e]),_([...f.slice(0,t),...f.slice(t+1)]))};var h=e||r.isRequesting||t.isRequesting,q=Object(Y.get)(t,["data","totals"],{}),E=y.totalResults||0,x=0<E;const D=Object(B.getSearchWords)(p);var T=D.map(e=>({key:e,label:e})),P=y["data"],P=C(P,q,E);let{headers:k,rows:F}=P;var N,q=P["summary"],P=(i&&(F=F.map((e,t)=>[(e=>{var{ids:t=[]}=n,t=-1!==f.indexOf(t[e]);return{display:Object(A.createElement)(W.CheckboxControl,{onChange:Object(Y.partial)(S,e),checked:t}),value:!1}})(t),...e]),k=[(()=>{var{ids:e=[]}=n,t=0<e.length,e=t&&e.length===f.length;return{cellClassName:"is-checkbox-column",key:"compare",label:Object(A.createElement)(W.CheckboxControl,{onChange:R,"aria-label":Object(V.__)("Select All"),checked:e,disabled:!t}),required:!0}})(),...k]),P=k,(N=v)?P.map(e=>({...e,visible:e.required||!N.includes(e.key)})):P.map(e=>({...e,visible:e.required||!e.hiddenByDefault})));return Object(A.createElement)(A.Fragment,null,Object(A.createElement)("div",{className:"woocommerce-report-table__scroll-point",ref:O,"aria-hidden":!0}),Object(A.createElement)(M.TableCard,K()({className:"woocommerce-report-table-"+c.replace("/","-"),hasSearch:!!m,actions:[i&&Object(A.createElement)(M.CompareButton,{key:"compare",className:"woocommerce-table__compare",count:f.length,helpText:d.helpText||Object(V.__)("Check at least two items below to compare","woocommerce-admin"),onClick:()=>{i&&Object(B.onQueryChange)("compare")(i,l,f.join(","))},disabled:!x},d.compareButton||Object(V.__)("Compare","woocommerce-admin")),m&&Object(A.createElement)(M.Search,{allowFreeTextSearch:!0,inlineTags:!0,key:"search",onChange:e=>{var t=n["baseSearchQuery"],e=e.map(e=>e.label.replace(",","%2C"));e.length?Object(B.updateQueryString)({filter:void 0,[l]:void 0,[m]:void 0,...t,search:Object(Y.uniq)(e).join(",")}):Object(B.updateQueryString)({search:void 0})},placeholder:d.placeholder||Object(V.__)("Search by item name","woocommerce-admin"),selected:T,showClearButton:!0,type:m,disabled:!x}),x&&Object(A.createElement)(W.Button,{key:"download",className:"woocommerce-table__download-button",disabled:h,onClick:()=>{const{createNotice:t,startExport:e,title:r}=n,o=Object.assign({},p);var{data:a,totalResults:s}=y;delete o.extended_info,o.search&&delete o[m],a&&a.length===s?({headers:a,rows:s}=C(a,s),Object($.downloadCSVFile)(Object($.generateCSVFileName)(r,o),Object($.generateCSVDataFromTable)(a,s))):e(c,g).then(()=>t("success",Object(V.sprintf)(Object(V.__)("Your %s Report will be emailed to you.","woocommerce-admin"),r))).catch(e=>t("error",e.message||Object(V.sprintf)(Object(V.__)("There was a problem exporting your %s Report. Please try again.","woocommerce-admin"),r)))}},Object(A.createElement)(G,null),Object(A.createElement)("span",{className:"woocommerce-table__download-button__label"},d.downloadButton||Object(V.__)("Download","woocommerce-admin")))],headers:P,isLoading:h,onQueryChange:B.onQueryChange,onColumnsChange:(t,e)=>{const r=k.map(e=>e.key);var o=r.filter(e=>!t.includes(e));b&&(o={[b]:o},w(o))},onSort:(e,t)=>{Object(B.onQueryChange)("sort")(e,t);c},onPageChange:(e,t)=>{O.current.scrollIntoView();var r=O.current.nextSibling.querySelector(".woocommerce-table__table");const o=z.focus.focusable.find(r);o.length&&o[0].focus()},rows:F,rowsPerPage:parseInt(g.per_page,10)||H.QUERY_DEFAULTS.pageSize,summary:q,totalRows:E},u)))};b.propTypes={baseSearchQuery:o.a.object,compareBy:o.a.string,compareParam:o.a.string,columnPrefsKey:o.a.string,endpoint:o.a.string,getHeadersContent:o.a.func.isRequired,getRowsContent:o.a.func.isRequired,getSummary:o.a.func,itemIdField:o.a.string,labels:o.a.shape({compareButton:o.a.string,downloadButton:o.a.string,helpText:o.a.string,placeholder:o.a.string}),primaryData:o.a.object,searchBy:o.a.string,summaryFields:o.a.arrayOf(o.a.string),tableData:o.a.object.isRequired,tableQuery:o.a.object,title:o.a.string.isRequired},b.defaultProps={primaryData:{},tableData:{items:{data:[],totalResults:0},query:{}},tableQuery:{},compareParam:"filter",downloadable:!1,onSearch:Y.noop,baseSearchQuery:{}};const O={};var S=Object(e.compose)(Object(r.withSelect)((e,t)=>{var{endpoint:t,getSummary:r,isRequesting:o,query:a,tableData:s,tableQuery:n,filters:c,advancedFilters:i,summaryFields:l,extendedItemsStoreName:m}=t,d=e(H.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings")["woocommerce_default_date_range"];if(o)return O;o=e(H.REPORTS_STORE_NAME);m&&e(m);return{primaryData:r?Object(H.getReportChartData)({endpoint:t,dataType:"primary",query:a,select:e,selector:o,filters:c,advancedFilters:i,defaultDateRange:d,fields:l}):O,tableData:s||Object(H.getReportTableData)({endpoint:t,query:a,select:e,selector:o,tableQuery:n,filters:c,advancedFilters:i,defaultDateRange:d}),query:a}}),Object(r.withDispatch)(e=>{var t=e(H.EXPORT_STORE_NAME)["startExport"],e=e("core/notices")["createNotice"];return{createNotice:e,startExport:t}}))(b);class w extends A.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:Object(V.__)("Composite Title","woocommerce-composite-products"),key:"product_name",required:!0,isLeftAligned:!0,isSortable:!0},{label:Object(V.__)("SKU","woocommerce-composite-products"),key:"sku",hiddenByDefault:!0,isSortable:!0},{label:Object(V.__)("Composite Products Sold","woocommerce-composite-products"),key:"items_sold",required:!0,defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(V.__)("Products Sold in Components","woocommerce-composite-products"),key:"composited_items_sold",required:!0,defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(V.__)("Net Sales","woocommerce-composite-products"),screenReaderLabel:Object(V.__)("Net Sales","woocommerce-composite-products"),key:"net_revenue",required:!0,isSortable:!0,isNumeric:!0},{label:Object(V.__)("Orders","woocommerce-composite-products"),key:"orders_count",isSortable:!0,isNumeric:!0}].filter(Boolean)}getRowsContent(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.props["query"];const l=Object(B.getPersistedQuery)(t),{render:m,formatDecimal:d,getCurrencyConfig:r}=this.context,u=r();return Object(Y.map)(e,e=>{const{product_id:t,items_sold:r,composited_items_sold:o,net_revenue:a,orders_count:s}=e;e=e.extended_info||{};const n=e["sku"],c=Object(_.decodeEntities)(e.name);var e=Object(B.getNewPath)(l,"/analytics/orders",{filter:"advanced",product_includes:t}),i=Object(B.getNewPath)(l,"/analytics/products",{filter:"single_product",products:t});return[{display:Object(A.createElement)(M.Link,{href:i,type:"wc-admin"},c),value:c},{display:n,value:n},{display:Object(p.formatValue)(u,"number",r),value:r},{display:Object(p.formatValue)(u,"number",o),value:o},{display:m(a),value:d(a)},{display:Object(A.createElement)(M.Link,{href:e,type:"wc-admin"},s),value:s}].filter(Boolean)})}getSummary(e){var{products_count:e=0,items_sold:t=0,composited_items_sold:r=0,net_revenue:o=0,orders_count:a=0}=e;const{formatAmount:s,getCurrencyConfig:n}=this.context;var c=n();return[{label:Object(V._n)("composite","composites",e,"woocommerce-composite-products"),value:Object(p.formatValue)(c,"number",e)},{label:Object(V._n)("sale","sales",t,"woocommerce-composite-products"),value:Object(p.formatValue)(c,"number",t)},{label:Object(V._n)("product sold in components","products sold in components",r,"woocommerce-composite-products"),value:Object(p.formatValue)(c,"number",r)},{label:Object(V.__)("net sales","woocommerce-composite-products"),value:s(o)},{label:Object(V._n)("order","orders",a,"woocommerce-composite-products"),value:Object(p.formatValue)(c,"number",a)}]}render(){var{filters:e,isRequesting:t,hideCompare:r,query:o}=this.props;return Object(A.createElement)(S,{endpoint:"composites",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["products_count","items_sold","composited_items_sold","net_revenue","orders_count"],itemIdField:"product_id",isRequesting:t,query:o,compareBy:r?void 0:"composites",tableQuery:{orderby:o.orderby||"items_sold",order:o.order||"desc",extended_info:!0,segmentby:o.segmentby},title:Object(V.__)("Composite Products","woocommerce-composite-products"),columnPrefsKey:"composites_report_columns",filters:e})}}w.contextType=a;var q=w,t=function(o,e){let a=1<arguments.length&&void 0!==e?e:identity;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=o;const r=Object(B.getIdsFromQuery)(e);if(r.length<1)return Promise.resolve([]);e={include:r.join(","),per_page:r.length};return y()({path:Object(g.addQueryArgs)(t,e)}).then(e=>e.map(a))}}(H.NAMESPACE+"/products",e=>({key:e.id,label:e.name}));const j=Object(Q.applyFilters)("woocommerce_admin_composites_report_charts",[{key:"items_sold",label:Object(V.__)("Composite Products Sold","woocommerce-composite-products"),order:"desc",orderby:"items_sold",type:"number"},{key:"composited_items_sold",label:Object(V.__)("Products Sold in Components","woocommerce-composite-products"),order:"desc",orderby:"composited_items_sold",type:"number"},{key:"net_revenue",label:Object(V.__)("Net Sales","woocommerce-composite-products"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:Object(V.__)("Orders","woocommerce-composite-products"),order:"desc",orderby:"orders_count",type:"number"}]),v=[{label:Object(V.__)("Show","woocommerce-composite-products"),staticParams:["section","paged","per_page"],param:"filter",showFilters:()=>!0,filters:[{label:Object(V.__)("All Composite Products","woocommerce-composite-products"),value:"all"},{label:Object(V.__)("Single Composite Product","woocommerce-composite-products"),value:"select_composite",subFilters:[{component:"Search",value:"single_product",path:["select_composite"],settings:{type:"products",param:"products",getLabels:t,labels:{placeholder:Object(V.__)("Type to search for a composite","woocommerce-composite-products"),button:Object(V.__)("Single Composite","woocommerce-composite-products")}}}]}]}];class C extends A.Component{getChartMeta(){return{itemsLabel:Object(V.__)("%d composite products","woocommerce-composite-products"),mode:"time-comparison"}}render(){var{itemsLabel:e,mode:t}=this.getChartMeta(),{path:r,query:o,isError:a,isRequesting:s}=this.props;if(a)return Object(A.createElement)(ReportError,{isError:!0});a={...o};return Object(A.createElement)(A.Fragment,null,Object(A.createElement)(M.ReportFilters,{query:o,path:r,showDatePicker:!0,filters:v}),Object(A.createElement)(i,{mode:t,charts:j,endpoint:"composites",isRequesting:s,query:a,selectedChart:h(o.chart,j),filters:v}),Object(A.createElement)(u,{charts:j,mode:t,endpoint:"composites",isRequesting:s,itemsLabel:e,path:r,query:a,selectedChart:h(a.chart,j),filters:v}),Object(A.createElement)(q,{isRequesting:s,hideCompare:!0,query:o,filters:v}))}}C.propTypes={path:o.a.string.isRequired,query:o.a.object.isRequired};var E=C;Object(Q.addFilter)("woocommerce_admin_reports_list","woocommerce-composite-products",e=>[...e,{report:"composites",title:Object(V._x)("Composite Products","analytics report table","woocommerce-composite-products"),component:E,navArgs:{id:"wc-cp-composites-analytics-report"}}])}]);